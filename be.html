<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PeerQuest Tavern - React & Django</title>
  <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@400;500;600&family=MedievalSharp&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #F4F0E6;
      color: #2C1A1D;
    }
    .tavern-bg {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='500' height='500'%3E%3Cfilter id='noise' x='0' y='0' width='100%25' height='100%25'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.01' numOctaves='5' stitchTiles='stitch' result='noise'/%3E%3CfeColorMatrix type='matrix' values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.3 0'/%3E%3C/filter%3E%3Crect width='500' height='500' fill='%232C1A1D'/%3E%3Crect width='500' height='500' filter='url(%23noise)' opacity='0.4'/%3E%3C/svg%3E");
    }
    .parchment {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='500' height='500'%3E%3Cfilter id='noise' x='0' y='0' width='100%25' height='100%25'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.01' numOctaves='3' stitchTiles='stitch' result='noise'/%3E%3CfeColorMatrix type='matrix' values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.05 0'/%3E%3C/filter%3E%3Crect width='500' height='500' fill='%23F4F0E6'/%3E%3Crect width='500' height='500' filter='url(%23noise)' opacity='0.8'/%3E%3C/svg%3E");
    }
    .quest-card {
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .quest-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px -5px rgba(124, 79, 60, 0.3);
    }
    .btn {
      transition: all 0.3s;
    }
    .btn:hover {
      transform: translateY(-2px);
    }
    .tab-active::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 100%;
      height: 3px;
      background: #CDAA7D;
      border-radius: 3px;
    }
  </style>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            parchment: '#F4F0E6',
            mahogany: '#2C1A1D',
            bronze: '#CDAA7D',
            sienna: '#7E4F3C',
            scroll: '#FFE26F',
            mystic: '#8b75aa',
          },
          fontFamily: {
            cinzel: ['Cinzel', 'serif'],
            inter: ['Inter', 'sans-serif'],
            medieval: ['MedievalSharp', 'cursive'],
          }
        }
      }
    }
  </script>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    // API Service for Django Backend
    const API_URL = 'http://localhost:8000/api';
    
    const apiService = {
      // Authentication
      login: async (credentials) => {
        try {
          const response = await fetch(`${API_URL}/auth/login/`, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(credentials),
          });
          
          if (!response.ok) {
            throw new Error('Login failed');
          }
          
          const data = await response.json();
          localStorage.setItem('token', data.token);
          return data;
        } catch (error) {
          console.error('Login error:', error);
          throw error;
        }
      },
      
      register: async (userData) => {
        try {
          const response = await fetch(`${API_URL}/auth/register/`, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(userData),
          });
          
          if (!response.ok) {
            throw new Error('Registration failed');
          }
          
          return await response.json();
        } catch (error) {
          console.error('Registration error:', error);
          throw error;
        }
      },
      
      // Quests
      getQuests: async () => {
        try {
          const response = await fetch(`${API_URL}/quests/`, {
            headers: {
              'Authorization': `Token ${localStorage.getItem('token')}`,
            },
          });
          
          if (!response.ok) {
            throw new Error('Failed to fetch quests');
          }
          
          return await response.json();
        } catch (error) {
          console.error('Get quests error:', error);
          throw error;
        }
      },
      
      applyForQuest: async (questId) => {
        try {
          const response = await fetch(`${API_URL}/quests/${questId}/apply/`, {
            method: 'POST',
            headers: {
              'Authorization': `Token ${localStorage.getItem('token')}`,
              'Content-Type': 'application/json',
            },
          });
          
          if (!response.ok) {
            throw new Error('Failed to apply for quest');
          }
          
          return await response.json();
        } catch (error) {
          console.error('Apply for quest error:', error);
          throw error;
        }
      },
    };

    // Context for Authentication
    const AuthContext = React.createContext(null);

    function AuthProvider({ children }) {
      const [user, setUser] = React.useState(null);
      const [loading, setLoading] = React.useState(true);
      
      React.useEffect(() => {
        // Check if user is logged in on component mount
        const token = localStorage.getItem('token');
        if (token) {
          // For demo purposes, we'll just set a mock user
          setUser({ username: 'Adventurer' });
        }
        setLoading(false);
      }, []);
      
      const login = async (credentials) => {
        try {
          const data = await apiService.login(credentials);
          setUser(data.user);
          return data;
        } catch (error) {
          throw error;
        }
      };
      
      const register = async (userData) => {
        try {
          const data = await apiService.register(userData);
          return data;
        } catch (error) {
          throw error;
        }
      };
      
      const logout = () => {
        localStorage.removeItem('token');
        setUser(null);
      };
      
      const value = {
        user,
        loading,
        login,
        register,
        logout,
        isAuthenticated: !!user,
      };
      
      return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;
    }

    function useAuth() {
      return React.useContext(AuthContext);
    }

    // Toast Component
    function Toast({ message, type = 'success', onClose }) {
      React.useEffect(() => {
        const timer = setTimeout(() => {
          onClose();
        }, 3000);
        
        return () => clearTimeout(timer);
      }, [onClose]);
      
      const bgColor = type === 'success' ? 'bg-green-100 border-green-300' : 'bg-red-100 border-red-300';
      const textColor = type === 'success' ? 'text-green-600' : 'text-red-600';
      
      return (
        <div className={`fixed top-4 right-4 flex items-center p-4 border rounded-lg shadow-lg ${bgColor}`}>
          <div className={`mr-3 ${textColor}`}>
            <svg className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              {type === 'success' ? (
                <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
              ) : (
                <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clipRule="evenodd" />
              )}
            </svg>
          </div>
          <p className="text-mahogany">{message}</p>
          <button onClick={onClose} className="ml-4 text-mahogany/50 hover:text-mahogany">
            <svg className="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fillRule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clipRule="evenodd" />
            </svg>
          </button>
        </div>
      );
    }

    // Login Modal Component
    function LoginModal({ isOpen, onClose, onShowRegister }) {
      const [email, setEmail] = React.useState('');
      const [password, setPassword] = React.useState('');
      const { login } = useAuth();
      const [error, setError] = React.useState('');
      
      const handleSubmit = async (e) => {
        e.preventDefault();
        setError('');
        
        try {
          await login({ email, password });
          onClose();
        } catch (err) {
          setError('Invalid email or password');
        }
      };
      
      if (!isOpen) return null;
      
      return (
        <div className="fixed inset-0 z-50 flex items-center justify-center bg-mahogany/70 backdrop-blur-sm">
          <div className="parchment border-2 border-sienna/50 rounded-lg p-6 max-w-md w-full mx-4 shadow-2xl">
            <div className="flex justify-between items-center mb-4">
              <h2 className="font-cinzel font-bold text-2xl text-mahogany">Enter the Tavern</h2>
              <button onClick={onClose} className="text-mahogany/70 hover:text-mahogany">
                <svg className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
            
            <div className="mb-6">
              <h3 className="font-medieval text-lg text-mahogany mb-2">Sign in to your account</h3>
              <p className="text-sm text-mahogany/70">Enter the tavern and continue your adventure!</p>
            </div>
            
            {error && (
              <div className="mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded-md">
                {error}
              </div>
            )}
            
            <form onSubmit={handleSubmit}>
              <div className="mb-4">
                <label className="block font-inter uppercase tracking-wider text-xs font-semibold mb-2 text-mahogany/80">
                  Email <span className="text-red-500">*</span>
                </label>
                <input
                  type="email"
                  value={email}
                  onChange={(e) => setEmail(e.target.value)}
                  placeholder="your.email@example.com"
                  className="w-full px-4 py-3 bg-parchment/90 border-2 border-sienna rounded-md focus:outline-none focus:border-mystic transition-all"
                  required
                />
              </div>
              
              <div className="mb-4">
                <label className="block font-inter uppercase tracking-wider text-xs font-semibold mb-2 text-mahogany/80">
                  Password <span className="text-red-500">*</span>
                </label>
                <input
                  type="password"
                  value={password}
                  onChange={(e) => setPassword(e.target.value)}
                  placeholder="••••••••"
                  className="w-full px-4 py-3 bg-parchment/90 border-2 border-sienna rounded-md focus:outline-none focus:border-mystic transition-all"
                  required
                />
              </div>
              
              <div className="flex justify-between items-center mb-6">
                <div className="flex items-center">
                  <input
                    id="remember-me"
                    type="checkbox"
                    className="h-4 w-4 text-mystic border-sienna/30 rounded focus:ring-mystic"
                  />
                  <label htmlFor="remember-me" className="ml-2 block text-sm text-mahogany/70">
                    Remember me
                  </label>
                </div>
                
                <a href="#" className="text-sm text-mystic hover:text-mystic/70">
                  Forgot password?
                </a>
              </div>
              
              <button type="submit" className="w-full px-6 py-3 bg-mystic text-white border-2 border-mystic/30 hover:bg-mystic/90 rounded-md font-cinzel font-bold tracking-wide transition-all btn mb-4">
                Sign In
              </button>
              
              <div className="text-center">
                <p className="text-sm text-mahogany/70">
                  New adventurer?
                  <button type="button" onClick={onShowRegister} className="text-mystic hover:text-mystic/70 font-semibold ml-1">
                    Create an account
                  </button>
                </p>
              </div>
            </form>
          </div>
        </div>
      );
    }

    // Register Modal Component
    function RegisterModal({ isOpen, onClose, onShowLogin }) {
      const [displayName, setDisplayName] = React.useState('');
      const [email, setEmail] = React.useState('');
      const [password, setPassword] = React.useState('');
      const [termsAccepted, setTermsAccepted] = React.useState(false);
      const { register } = useAuth();
      const [error, setError] = React.useState('');
      
      const handleSubmit = async (e) => {
        e.preventDefault();
        setError('');
        
        if (!termsAccepted) {
          setError('You must accept the terms and conditions');
          return;
        }
        
        try {
          await register({ displayName, email, password });
          onClose();
          // Show success toast or redirect
        } catch (err) {
          setError('Registration failed. Please try again.');
        }
      };
      
      if (!isOpen) return null;
      
      return (
        <div className="fixed inset-0 z-50 flex items-center justify-center bg-mahogany/70 backdrop-blur-sm">
          <div className="parchment border-2 border-sienna/50 rounded-lg p-6 max-w-md w-full mx-4 shadow-2xl">
            <div className="flex justify-between items-center mb-4">
              <h2 className="font-cinzel font-bold text-2xl text-mahogany">Join the Adventure</h2>
              <button onClick={onClose} className="text-mahogany/70 hover:text-mahogany">
                <svg className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
            
            <div className="mb-6">
              <h3 className="font-medieval text-lg text-mahogany mb-2">Create your adventurer profile</h3>
              <p className="text-sm text-mahogany/70">Begin your journey in the PeerQuest world!</p>
            </div>
            
            {error && (
              <div className="mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded-md">
                {error}
              </div>
            )}
            
            <form onSubmit={handleSubmit}>
              <div className="mb-4">
                <label className="block font-inter uppercase tracking-wider text-xs font-semibold mb-2 text-mahogany/80">
                  Display Name <span className="text-red-500">*</span>
                </label>
                <input
                  type="text"
                  value={displayName}
                  onChange={(e) => setDisplayName(e.target.value)}
                  placeholder="How others will see you (e.g. Thorne Codeweaver)"
                  className="w-full px-4 py-3 bg-parchment/90 border-2 border-sienna rounded-md focus:outline-none focus:border-mystic transition-all"
                  required
                />
              </div>
              
              <div className="mb-4">
                <label className="block font-inter uppercase tracking-wider text-xs font-semibold mb-2 text-mahogany/80">
                  Email <span className="text-red-500">*</span>
                </label>
                <input
                  type="email"
                  value={email}
                  onChange={(e) => setEmail(e.target.value)}
                  placeholder="your.email@example.com"
                  className="w-full px-4 py-3 bg-parchment/90 border-2 border-sienna rounded-md focus:outline-none focus:border-mystic transition-all"
                  required
                />
              </div>
              
              <div className="mb-4">
                <label className="block font-inter uppercase tracking-wider text-xs font-semibold mb-2 text-mahogany/80">
                  Password <span className="text-red-500">*</span>
                </label>
                <input
                  type="password"
                  value={password}
                  onChange={(e) => setPassword(e.target.value)}
                  placeholder="••••••••"
                  className="w-full px-4 py-3 bg-parchment/90 border-2 border-sienna rounded-md focus:outline-none focus:border-mystic transition-all"
                  required
                />
              </div>
              
              <div className="mb-6">
                <div className="flex items-center">
                  <input
                    id="terms"
                    type="checkbox"
                    checked={termsAccepted}
                    onChange={(e) => setTermsAccepted(e.target.checked)}
                    className="h-4 w-4 text-mystic border-sienna/30 rounded focus:ring-mystic"
                    required
                  />
                  <label htmlFor="terms" className="ml-2 block text-sm text-mahogany/70">
                    I agree to the <a href="#" className="text-mystic hover:text-mystic/70">Terms and Conditions</a>
                  </label>
                </div>
              </div>
              
              <button type="submit" className="w-full px-6 py-3 bg-mystic text-white border-2 border-mystic/30 hover:bg-mystic/90 rounded-md font-cinzel font-bold tracking-wide transition-all btn mb-4">
                Register
              </button>
              
              <div className="text-center">
                <p className="text-sm text-mahogany/70">
                  Already have an account?
                  <button type="button" onClick={onShowLogin} className="text-mystic hover:text-mystic/70 font-semibold ml-1">
                    Sign in
                  </button>
                </p>
              </div>
            </form>
          </div>
        </div>
      );
    }

    // Quest Card Component
    function QuestCard({ quest, onApply }) {
      const difficultyColors = {
        Easy: 'bg-green-100 text-green-800 border-green-200',
        Medium: 'bg-yellow-100 text-yellow-800 border-yellow-200',
        Hard: 'bg-red-100 text-red-800 border-red-200',
      };
      
      return (
        <div className="quest-card parchment border-2 border-sienna/30 rounded-lg p-5 shadow-md">
          <div className="flex justify-between items-start mb-3">
            <h3 className="font-cinzel font-bold text-xl text-mahogany">{quest.title}</h3>
            <span className={`text-xs px-2 py-1 rounded-full border ${difficultyColors[quest.difficulty]}`}>
              {quest.difficulty}
            </span>
          </div>
          
          <p className="text-sm text-mahogany/80 mb-4">{quest.description}</p>
          
          <div className="flex justify-between items-center mb-4">
            <div className="flex items-center">
              <svg className="h-4 w-4 text-bronze mr-1" viewBox="0 0 20 20" fill="currentColor">
                <path fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clipRule="evenodd" />
              </svg>
              <span className="text-xs text-mahogany/70">{quest.daysLeft} days left</span>
            </div>
            <div className="flex items-center">
              <svg className="h-4 w-4 text-bronze mr-1" viewBox="0 0 20 20" fill="currentColor">
                <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />
              </svg>
              <span className="text-xs text-mahogany/70">{quest.guild}</span>
            </div>
          </div>
          
          <div className="flex justify-between items-center">
            <div className="flex items-center">
              <svg className="h-5 w-5 text-scroll mr-1" viewBox="0 0 20 20" fill="currentColor">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
              </svg>
              <span className="font-bold text-mahogany">{quest.xp} XP</span>
            </div>
            <button 
              onClick={() => onApply(quest.id)} 
              className="text-sm py-2 px-4 bg-mystic text-white border-2 border-mystic/30 hover:bg-mystic/90 rounded-md font-cinzel font-bold tracking-wide transition-all btn"
            >
              Apply
            </button>
          </div>
        </div>
      );
    }

    // Header Component
    function Header({ onLoginClick }) {
      const { user, isAuthenticated, logout } = useAuth();
      
      return (
        <header className="bg-mahogany text-parchment shadow-md">
          <div className="container mx-auto px-4 py-4 flex justify-between items-center">
            <div className="flex items-center">
              <svg className="h-10 w-10 text-bronze mr-3" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2L15 8L21 9L16.5 14L18 20L12 17L6 20L7.5 14L3 9L9 8L12 2Z" fill="currentColor"/>
              </svg>
              <h1 className="font-medieval text-2xl font-bold">PeerQuest Tavern</h1>
            </div>
            <nav className="hidden md:flex space-x-6">
              <a href="#" className="hover:text-bronze transition-colors">Quest Board</a>
              <a href="#" className="hover:text-bronze transition-colors">Guild Hall</a>
              <a href="#" className="hover:text-bronze transition-colors">About</a>
            </nav>
            <div className="flex items-center space-x-4">
              {isAuthenticated ? (
                <div className="flex items-center space-x-4">
                  <span className="text-bronze">Welcome, {user.username}</span>
                  <button 
                    onClick={logout}
                    className="px-4 py-2 bg-bronze text-mahogany rounded-md font-cinzel font-bold hover:bg-scroll transition-colors btn"
                  >
                    Sign Out
                  </button>
                </div>
              ) : (
                <button 
                  onClick={onLoginClick}
                  className="px-4 py-2 bg-bronze text-mahogany rounded-md font-cinzel font-bold hover:bg-scroll transition-colors btn"
                >
                  Enter Tavern
                </button>
              )}
            </div>
          </div>
        </header>
      );
    }

    // Footer Component
    function Footer() {
      return (
        <footer className="bg-mahogany text-parchment py-6">
          <div className="container mx-auto px-4">
            <div className="flex flex-col md:flex-row justify-between items-center">
              <div className="mb-4 md:mb-0">
                <div className="flex items-center">
                  <svg className="h-8 w-8 text-bronze mr-2" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2L15 8L21 9L16.5 14L18 20L12 17L6 20L7.5 14L3 9L9 8L12 2Z" fill="currentColor"/>
                  </svg>
                  <span className="font-medieval text-xl">PeerQuest</span>
                </div>
                <p className="text-sm text-parchment/70 mt-1">Learn, collaborate, and grow together</p>
              </div>
              
              <div className="flex space-x-8">
                <div>
                  <h4 className="font-cinzel font-semibold mb-2">Links</h4>
                  <ul className="text-sm space-y-1">
                    <li><a href="#" className="text-parchment/70 hover:text-bronze">About</a></li>
                    <li><a href="#" className="text-parchment/70 hover:text-bronze">Help</a></li>
                    <li><a href="#" className="text-parchment/70 hover:text-bronze">Terms</a></li>
                  </ul>
                </div>
                
                <div>
                  <h4 className="font-cinzel font-semibold mb-2">Connect</h4>
                  <ul className="text-sm space-y-1">
                    <li><a href="#" className="text-parchment/70 hover:text-bronze">Twitter</a></li>
                    <li><a href="#" className="text-parchment/70 hover:text-bronze">Discord</a></li>
                    <li><a href="#" className="text-parchment/70 hover:text-bronze">Email</a></li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div className="mt-6 pt-6 border-t border-parchment/20 text-center text-xs text-parchment/50">
              &copy; 2023 PeerQuest Tavern. All rights reserved.
            </div>
          </div>
        </footer>
      );
    }

    // Main App Component
    function App() {
      const [loginModalOpen, setLoginModalOpen] = React.useState(false);
      const [registerModalOpen, setRegisterModalOpen] = React.useState(false);
      const [toast, setToast] = React.useState({ show: false, message: '', type: 'success' });
      const [quests, setQuests] = React.useState([
        {
          id: 1,
          title: 'Debug the Ancient Spellbook',
          description: 'Find and fix the bugs in our spellcasting module. The wizards are getting unexpected results!',
          difficulty: 'Medium',
          daysLeft: 3,
          guild: 'Code Mages',
          xp: 150
        },
        {
          id: 2,
          title: 'Design a Potion Interface',
          description: 'Create a user-friendly interface for our potion brewing system. Must be mobile responsive.',
          difficulty: 'Easy',
          daysLeft: 5,
          guild: 'Alchemists Union',
          xp: 75
        },
        {
          id: 3,
          title: 'Optimize Dragon Database',
          description: 'Our dragon tracking system is slow. Optimize the queries and improve performance by 50%.',
          difficulty: 'Hard',
          daysLeft: 2,
          guild: 'Dragon Keepers',
          xp: 300
        }
      ]);
      
      const { isAuthenticated } = useAuth();
      
      const handleApplyForQuest = (questId) => {
        if (!isAuthenticated) {
          setLoginModalOpen(true);
          return;
        }
        
        // In a real app, call the API
        // apiService.applyForQuest(questId)
        
        setToast({
          show: true,
          message: 'Quest application submitted successfully!',
          type: 'success'
        });
      };
      
      const closeToast = () => {
        setToast({ ...toast, show: false });
      };
      
      return (
        <div className="min-h-screen flex flex-col">
          <Header onLoginClick={() => setLoginModalOpen(true)} />
          
          <main className="flex-grow tavern-bg bg-fixed bg-cover py-12">
            <div className="container mx-auto px-4">
              <div className="parchment border-2 border-sienna/30 rounded-lg p-8 max-w-4xl mx-auto shadow-2xl">
                <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                  <div>
                    <h2 className="font-medieval font-bold text-3xl text-mahogany mb-4">Welcome to The PeerQuest Tavern</h2>
                    <p className="mb-6 text-mahogany/80">Join fellow adventurers in completing quests, earning experience, and mastering new skills in this fantasy-themed peer learning platform.</p>
                    
                    <div className="space-y-4 mb-6">
                      <div className="flex items-start">
                        <div className="bg-mystic/20 p-2 rounded-full mr-3">
                          <svg className="h-5 w-5 text-mystic" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z" />
                          </svg>
                        </div>
                        <div>
                          <h3 className="font-cinzel font-semibold text-mahogany">Complete Quests</h3>
                          <p className="text-sm text-mahogany/70">Take on coding challenges and help others with their projects.</p>
                        </div>
                      </div>
                      
                      <div className="flex items-start">
                        <div className="bg-mystic/20 p-2 rounded-full mr-3">
                          <svg className="h-5 w-5 text-mystic" viewBox="0 0 20 20" fill="currentColor">
                            <path fillRule="evenodd" d="M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z" clipRule="evenodd" />
                            <path d="M2 13.692V16a2 2 0 002 2h12a2 2 0 002-2v-2.308A24.974 24.974 0 0110 15c-2.796 0-5.487-.46-8-1.308z" />
                          </svg>
                        </div>
                        <div>
                          <h3 className="font-cinzel font-semibold text-mahogany">Earn Experience</h3>
                          <p className="text-sm text-mahogany/70">Level up your profile and unlock new abilities.</p>
                        </div>
                      </div>
                      
                      <div className="flex items-start">
                        <div className="bg-mystic/20 p-2 rounded-full mr-3">
                          <svg className="h-5 w-5 text-mystic" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z" />
                          </svg>
                        </div>
                        <div>
                          <h3 className="font-cinzel font-semibold text-mahogany">Join a Guild</h3>
                          <p className="text-sm text-mahogany/70">Collaborate with like-minded adventurers.</p>
                        </div>
                      </div>
                    </div>
                    
                    <button 
                      onClick={() => setLoginModalOpen(true)}
                      className="px-6 py-3 bg-mystic text-white rounded-md font-cinzel font-bold tracking-wide transition-all btn flex items-center"
                    >
                      <svg className="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                        <path fillRule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clipRule="evenodd" />
                      </svg>
                      Enter the Tavern
                    </button>
                  </div>
                  
                  <div className="flex items-center justify-center">
                    <div className="relative">
                      <svg width="280" height="280" viewBox="0 0 100 100" className="drop-shadow-lg">
                        <circle cx="50" cy="50" r="45" fill="#8b75aa" fillOpacity="0.2" />
                        <path d="M50 10 L60 30 L82 30 L65 45 L70 65 L50 55 L30 65 L35 45 L18 30 L40 30 Z" fill="#CDAA7D" stroke="#7E4F3C" strokeWidth="1.5" />
                        <circle cx="50" cy="50" r="10" fill="#F4F0E6" stroke="#7E4F3C" strokeWidth="1.5" />
                        <path d="M50 40 L50 60 M40 50 L60 50" stroke="#7E4F3C" strokeWidth="1.5" />
                        <path d="M30 20 Q50 10 70 20 Q80 35 70 50 Q50 65 30 50 Q20 35 30 20" fill="none" stroke="#8b75aa" strokeWidth="1" strokeDasharray="2,2" />
                      </svg>
                      
                      <div className="absolute -top-4 -right-4 bg-scroll/90 text-mahogany p-2 rounded-lg transform rotate-12 font-medieval text-sm border border-bronze">
                        New Quests!
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              {/* Quest Board Section */}
              <div className="mt-12">
                <h2 className="font-medieval font-bold text-2xl text-parchment mb-6 text-center">Featured Quests</h2>
                
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                  {quests.map(quest => (
                    <QuestCard 
                      key={quest.id} 
                      quest={quest} 
                      onApply={handleApplyForQuest} 
                    />
                  ))}
                </div>
                
                <div className="mt-8 text-center">
                  <button className="px-6 py-3 bg-bronze text-mahogany border-2 border-mahogany hover:bg-scroll rounded-md font-cinzel font-bold tracking-wide transition-all btn">
                    View All Quests
                  </button>
                </div>
              </div>
            </div>
          </main>
          
          <Footer />
          
          <LoginModal 
            isOpen={loginModalOpen} 
            onClose={() => setLoginModalOpen(false)} 
            onShowRegister={() => {
              setLoginModalOpen(false);
              setRegisterModalOpen(true);
            }} 
          />
          
          <RegisterModal 
            isOpen={registerModalOpen} 
            onClose={() => setRegisterModalOpen(false)} 
            onShowLogin={() => {
              setRegisterModalOpen(false);
              setLoginModalOpen(true);
            }} 
          />
          
          {toast.show && (
            <Toast 
              message={toast.message} 
              type={toast.type} 
              onClose={closeToast} 
            />
          )}
        </div>
      );
    }

    // Render the app
    ReactDOM.render(
      <AuthProvider>
        <App />
      </AuthProvider>,
      document.getElementById('root')
    );
  </script>

  <!-- Django Backend Integration Instructions -->
  <div id="django-instructions" style="display: none;">
    <!-- 
    Django Backend Setup Instructions:
    
    1. Create a new Django project:
       $ django-admin startproject peerquest_backend
       $ cd peerquest_backend
    
    2. Create apps for different features:
       $ python manage.py startapp accounts
       $ python manage.py startapp quests
    
    3. Install required packages:
       $ pip install djangorestframework django-cors-headers
    
    4. Configure settings.py:
       - Add 'rest_framework', 'corsheaders', 'accounts', 'quests' to INSTALLED_APPS
       - Add 'corsheaders.middleware.CorsMiddleware' to MIDDLEWARE (before CommonMiddleware)
       - Add CORS settings:
         CORS_ALLOW_ALL_ORIGINS = True  # For development only
         CORS_ALLOWED_ORIGINS = [
             "http://localhost:3000",
         ]
    
    5. Create models in accounts/models.py:
       from django.contrib.auth.models import AbstractUser
       
       class User(AbstractUser):
           display_name = models.CharField(max_length=100)
           xp = models.IntegerField(default=0)
           level = models.IntegerField(default=1)
    
    6. Create models in quests/models.py:
       from django.db import models
       from accounts.models import User
       
       class Guild(models.Model):
           name = models.CharField(max_length=100)
           description = models.TextField()
       
       class Quest(models.Model):
           DIFFICULTY_CHOICES = [
               ('Easy', 'Easy'),
               ('Medium', 'Medium'),
               ('Hard', 'Hard'),
           ]
           
           title = models.CharField(max_length=200)
           description = models.TextField()
           difficulty = models.CharField(max_length=10, choices=DIFFICULTY_CHOICES)
           xp_reward = models.IntegerField()
           deadline = models.DateField()
           guild = models.ForeignKey(Guild, on_delete=models.CASCADE)
           created_by = models.ForeignKey(User, on_delete=models.CASCADE)
           created_at = models.DateTimeField(auto_now_add=True)
       
       class QuestApplication(models.Model):
           STATUS_CHOICES = [
               ('Pending', 'Pending'),
               ('Accepted', 'Accepted'),
               ('Rejected', 'Rejected'),
               ('Completed', 'Completed'),
           ]
           
           quest = models.ForeignKey(Quest, on_delete=models.CASCADE)
           applicant = models.ForeignKey(User, on_delete=models.CASCADE)
           status = models.CharField(max_length=10, choices=STATUS_CHOICES, default='Pending')
           applied_at = models.DateTimeField(auto_now_add=True)
    
    7. Create serializers for the models in accounts/serializers.py and quests/serializers.py
    
    8. Create views and endpoints in accounts/views.py and quests/views.py
    
    9. Configure URLs in urls.py files
    
    10. Run migrations:
        $ python manage.py makemigrations
        $ python manage.py migrate
    
    11. Create a superuser:
        $ python manage.py createsuperuser
    
    12. Run the server:
        $ python manage.py runserver
    
    API Endpoints to implement:
    - /api/auth/register/ - Register new user
    - /api/auth/login/ - Login user
    - /api/auth/logout/ - Logout user
    - /api/quests/ - List all quests
    - /api/quests/<id>/ - Get quest details
    - /api/quests/<id>/apply/ - Apply for a quest
    - /api/guilds/ - List all guilds
    - /api/user/profile/ - Get user profile
    - /api/user/quests/ - Get user's quests
    -->
  </div>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'94a56be8e1a2fee0',t:'MTc0OTAxOTA0Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>